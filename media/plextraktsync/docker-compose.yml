services:
  plextraktsync:
    image: ghcr.io/taxel/plextraktsync:0.34.21@sha256:9a194380386f629df38e886f843825f4ef6e44389d8f2a0948ad5c97aa282271
    container_name: PlexTraktSync
    # ðŸ‘‡ CHANGE 1: Use relative path (The runner creates this file right here)
    env_file:
      - .env
    # This tells it to stay running and sync periodically
    command: watch
    volumes:
      - /volume2/FastSSD/docker/plextraktsync/config:/app/config
    environment:
      - PUID=1000
      - PGID=10
      - TZ=Europe/London
    # ðŸ‘‡ CHANGE 2: "on-failure" handles the dependency. 
    # If Plex isn't ready, this crashes, waits, and tries again.
    restart: on-failure:5
