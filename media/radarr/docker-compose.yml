services:
  radarr:
    image: lscr.io/linuxserver/radarr:6.0.4@sha256:6d3e68474ea146f995af98d3fb2cb1a14e2e4457ddaf035aa5426889e2f9249c
    env_file:
      - /volume2/FastSSD/docker/radarr/.env
    container_name: Radarr
    network_mode: host
    security_opt:
        - no-new-privileges:true
    healthcheck:
       test: curl -f http://localhost:7878/ || exit 1
    environment:
      - PUID=1000
      - PGID=10
      - TZ=Europe/Dublin
    volumes:
      - /volume1/SlowHDD/movies:/movies:rw #If you want, you can change the following line /volume1/docker/radarr/movies with the path Location of your own Movie library.
      - /volume1/SlowHDD/downloads/downloads:/downloads:rw #If you want, you can change the following line /volume1/docker/radarr/downloads with the path Location of your Download folder.
      - /volume2/FastSSD/docker/radarr/config:/config:rw 
    ports:
      - 7878:7878
    restart: always
    
  recyclarr:
    image: ghcr.io/recyclarr/recyclarr:7.5.2@sha256:2550848d43a453f2c6adf3582f2198ac719f76670691d76de0819053103ef2fb
    container_name: recyclarr
    user: 1000:1000
    volumes:
      - /volume2/FastSSD/docker/recyclarr/config:/config
    env_file:
      - /volume2/FastSSD/docker/recyclarr/.env
    restart: unless-stopped
  prowlarr:
    image: lscr.io/linuxserver/prowlarr:2.3.0@sha256:e74a1e093dcc223d671d4b7061e2b4946f1989a4d3059654ff4e623b731c9134
    container_name: prowlarr
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/London
    volumes:
      - /volume2/FastSSD/docker/prowlarr/config:/config
    ports:
      - 9696:9696
    restart: unless-stopped
  flaresolverr:
    image: flaresolverr/flaresolverr:v3.4.6@sha256:7962759d99d7e125e108e0f5e7f3cdbcd36161776d058d1d9b7153b92ef1af9e
    container_name: flaresolverr
    environment:
      - LOG_LEVEL=info
      - TZ=Europe/London
    ports:
      - "8191:8191"
    restart: unless-stopped
# Existing Overseerr (Keep this as is)
  overseerr:
    image: sctx/overseerr:1.35.0@sha256:6197516c9d7b58ccf113455e32aafb94df5d91995fe50e8c2cae6ba6c7c7b7de
    container_name: overseerr
    environment:
      - TZ=Europe/London
    volumes:
      - /volume2/FastSSD/docker/overseerr/config:/app/config
    ports:
      - 5055:5055
    restart: unless-stopped

  # New Jellyseerr (Running alongside)
  jellyseerr:
    image: fallenbagel/jellyseerr:2.7.3@sha256:4538137bc5af902dece165f2bf73776d9cf4eafb6dd714670724af8f3eb77764
    container_name: jellyseerr
    environment:
      - LOG_LEVEL=info
      - TZ=Europe/London
    volumes:
      - /volume2/FastSSD/docker/jellyseerr/config:/app/config
    ports:
      - 5056:5055  # <--- EXTERNAL port 5056 maps to INTERNAL 5055
    restart: unless-stopped

  maintainerr:
    image: ghcr.io/jorenn92/maintainerr:latest@sha256:bee84707edaf589cda3d18b6813cbfe3a137b52786210c3a28190e10910c1240
    container_name: maintainerr
    user: 1000:1000
    volumes:
      - /volume2/FastSSD/docker/maintainerr/config:/opt/data
    environment:
      - TZ=Europe/London
    restart: unless-stopped
    ports:
      - 6246:6246
      
  readarr:
    image: lscr.io/linuxserver/readarr:nightly-0.4.19.2811-ls400@sha256:4f291128d1a5538be73c2a30473d7cdd0820e223dc8b8533b0cbc5659000dcbe
    container_name: readarr
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/London
    volumes:
      - /volume2/FastSSD/docker/readarr/config:/config
      
      # STORAGE: Just map the parent "Books" folder. 
      # Readarr will create folders inside this (e.g., /books/Stephen King).
      - /volume1/SlowHDD/books/readarrstaging:/books
      - /volume1/SlowHDD/books/audiobooks:/audiobooks      
      # DOWNLOADS: This MUST match your qBittorrent mapping exactly.
      # Earlier you showed qBit uses: /volume1/SlowHDD/downloads/downloads
      # If you map a specific subfolder "/books" here, Readarr might not find the files.
      - /volume1/SlowHDD/downloads:/downloads      
    ports:
      - 8787:8787
    restart: unless-stopped

  lazylibrarian:
    image: lscr.io/linuxserver/lazylibrarian:latest
    container_name: lazylibrarian
    environment:
      - PUID=1000
      - PGID=1000  # Note: Check if CWA uses 100 or 1000. Matching CWA is safer for permissions.
      - TZ=Europe/London
      # Optional: Installs tools to let LL talk directly to Calibre database if needed later
      # - DOCKER_MODS=linuxserver/mods:universal-calibre
    volumes:
      # CONFIG: Store on your FastSSD
      - /volume2/FastSSD/docker/lazylibrarian/config:/config
      
      # DOWNLOADS: Must match qBittorrent parent path exactly
      # LL will send downloads to /downloads/books
      - /volume1/SlowHDD/downloads:/downloads
      
      # LIBRARY: Map the parent folder so LL can see Calibre AND Audiobooks
      # You can point LL to /books/calibreweblib to check what you already own
      - /volume1/SlowHDD/books:/books
    ports:
      - 5299:5299
    restart: unless-stopped
